{% extends 'main/base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col text-center">
            <h2 class="display-4">Admissions by Year</h2>
            <p class="lead">Select a year to view the admissions for that period.</p>
        </div>
    </div>

    {% if admissions_years %}
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="list-group">
                {% for year_data in admissions_years %}
                    {% if year_data.year %}
                    <a href="{% url 'admissions_by_year' year_data.year %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <strong>{{ year_data.year }}</strong>
                        <span class="badge badge-primary badge-pill">{{ year_data.count }}</span>
                    </a>
                    {% else %}
                    <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center text-muted">
                        <strong>Unknown Year</strong>
                        <span class="badge badge-primary badge-pill">{{ year_data.count }}</span>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
    {% else %}
    <div class="row justify-content-center">
        <div class="col-md-6 text-center">
            <div class="alert alert-warning" role="alert">
                No admissions data available.
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
